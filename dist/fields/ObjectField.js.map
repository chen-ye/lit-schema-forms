{"version":3,"file":"ObjectField.js","sourceRoot":"","sources":["../../src/fields/ObjectField.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAuB,MAAM,KAAK,CAAC;AAGhD,OAAO,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AAEzC,MAAM,UAAU,iBAAiB,CAC/B,GAAW,EACX,MAAkB,EAClB,KAAc,EACd,QAAuB,EACvB,OAAiB,EAAE,EACnB,OAAe,EAAE,EACjB,SAA4B,EAAE,EAC9B,UAA0B,EAAE;IAE5B,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;QACvB,OAAO,IAAI,CAAA,EAAE,CAAC;IAChB,CAAC;IAED,MAAM,YAAY,GAAI,KAAiC,IAAI,EAAE,CAAC;IAE9D,OAAO,IAAI,CAAA;;QAEL,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAA,OAAO,MAAM,CAAC,KAAK,OAAO,CAAC,CAAC,CAAC,EAAE;;UAEhD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;QAC3C,MAAM,UAAU,GAAG,MAAM,CAAC,UAAW,CAAC,GAAG,CAAC,CAAC;QAC3C,IAAI,OAAO,UAAU,KAAK,SAAS,EAAE,CAAC;YACnC,yDAAyD;YACzD,+FAA+F;YAC/F,OAAO,IAAI,CAAA,EAAE,CAAC;QACjB,CAAC;QACD,MAAM,SAAS,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC;QAEpC,OAAO,WAAW,CAChB,GAAG,EACH,UAAU,EACV,SAAS,EACT,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE;YACR,QAAQ,CAAC,EAAE,GAAG,YAAY,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;QAC1C,CAAC,EACD,IAAI,EACJ,GAAG,IAAI,IAAI,GAAG,EAAE,EAChB,MAAM,EACN,OAAO,CACR,CAAC;IACJ,CAAC,CAAC;;;GAGP,CAAC;AACJ,CAAC","sourcesContent":["import { html, type TemplateResult } from 'lit';\nimport type { ChangeHandler, JSONSchema, UISchema, WidgetRegistry } from '../types.js';\nimport type { ValidationError } from '../utils/validator.js';\nimport { renderField } from './index.js';\n\nexport function renderObjectField(\n  key: string,\n  schema: JSONSchema,\n  value: unknown,\n  onChange: ChangeHandler,\n  view: UISchema = {},\n  path: string = '',\n  errors: ValidationError[] = [],\n  widgets: WidgetRegistry = {},\n): TemplateResult {\n  if (!schema.properties) {\n    return html``;\n  }\n\n  const currentValue = (value as Record<string, unknown>) || {};\n\n  return html`\n    <div class=\"object-field\">\n      ${schema.title ? html`<h3>${schema.title}</h3>` : ''}\n      <div class=\"object-properties\" style=\"display: flex; flex-direction: column; gap: 1rem; padding-left: 1rem; border-left: 2px solid #eee;\">\n        ${Object.keys(schema.properties).map((key) => {\n          const propSchema = schema.properties![key];\n          if (typeof propSchema === 'boolean') {\n             // Boolean schema in properties (true=allow, false=deny).\n             // For a form generator, we generally skip 'true' (no structure to render) or 'false' (hidden).\n             return html``;\n          }\n          const propValue = currentValue[key];\n\n          return renderField(\n            key,\n            propSchema,\n            propValue,\n            (_k, v) => {\n              onChange({ ...currentValue, [key]: v });\n            },\n            view,\n            `${path}/${key}`,\n            errors,\n            widgets,\n          );\n        })}\n      </div>\n    </div>\n  `;\n}\n"]}