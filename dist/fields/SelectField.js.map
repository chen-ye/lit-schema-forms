{"version":3,"file":"SelectField.js","sourceRoot":"","sources":["../../src/fields/SelectField.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAC3B,OAAO,yDAAyD,CAAC;AAEjE,OAAO,yDAAyD,CAAC;AACjE,OAAO,mEAAmE,CAAC;AAC3E,OAAO,uDAAuD,CAAC;AAK/D,MAAM,UAAU,iBAAiB,CAC/B,GAAW,EACX,MAAkB,EAClB,KAAc,EACd,QAAuB,EACvB,OAAiB,EAAE,EACnB,OAAe,EAAE,EACjB,SAA4B,EAAE;IAE9B,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;IAClC,MAAM,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,gBAAgB,KAAK,IAAI,IAAI,EAAE,CAAC,CAAC;IAC9E,MAAM,YAAY,GAAG,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IAEzG,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,OAAO,EAAE,CAAC;QAClC,OAAO,IAAI,CAAA;;gBAEC,MAAM,CAAC,KAAK,IAAI,GAAG;gBACnB,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC;oBACf,YAAY,IAAK,IAAI,CAAC,SAAS,CAAY,IAAI,EAAE;mBAClD,CAAC,CAAC,YAAY;oBACb,CAAC,CAAQ,EAAE,EAAE,CAAC,QAAQ,CAAE,CAAC,CAAC,MAAuB,CAAC,KAAK,CAAC;;UAElE,OAAO,CAAC,GAAG,CACX,CAAC,GAAY,EAAE,EAAE,CAAC,IAAI,CAAA;8BACF,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,GAAG,CAAC;WAC7C,CACF;;KAEJ,CAAC;IACJ,CAAC;IAED,OAAO,IAAI,CAAA;;cAEC,MAAM,CAAC,KAAK,IAAI,GAAG;cACnB,MAAM,CAAC,KAAK,IAAI,EAAE,CAAC;kBACf,YAAY,IAAK,IAAI,CAAC,SAAS,CAAY,IAAI,EAAE;iBAClD,CAAC,CAAC,YAAY;kBACb,CAAC,CAAQ,EAAE,EAAE,CAAC,QAAQ,CAAE,CAAC,CAAC,MAAmB,CAAC,KAAK,CAAC;;;QAG9D,OAAO,CAAC,GAAG,CACX,CAAC,GAAY,EAAE,EAAE,CAAC,IAAI,CAAA;2BACH,MAAM,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,GAAG,CAAC;OAC9C,CACA;;GAEJ,CAAC;AACJ,CAAC","sourcesContent":["import { html } from 'lit';\nimport '@awesome.me/webawesome/dist/components/select/select.js';\nimport type WaSelect from '@awesome.me/webawesome/dist/components/select/select.js';\nimport '@awesome.me/webawesome/dist/components/option/option.js';\nimport '@awesome.me/webawesome/dist/components/radio-group/radio-group.js';\nimport '@awesome.me/webawesome/dist/components/radio/radio.js';\nimport type WaRadioGroup from '@awesome.me/webawesome/dist/components/radio-group/radio-group.js';\nimport type { ChangeHandler, JSONSchema, UISchema } from '../types.js';\nimport type { ValidationError } from '../utils/validator.js';\n\nexport function renderSelectField(\n  key: string,\n  schema: JSONSchema,\n  value: unknown,\n  onChange: ChangeHandler,\n  view: UISchema = {},\n  path: string = '',\n  errors: ValidationError[] = [],\n) {\n  const options = schema.enum || [];\n  const currentErrors = errors.filter((e) => e.instanceLocation === `#${path}`);\n  const errorMessage = currentErrors.length > 0 ? currentErrors.map((e) => e.error).join('; ') : undefined;\n\n  if (view['ui:widget'] === 'radio') {\n    return html`\n      <wa-radio-group\n        label=${schema.title || key}\n        value=${String(value || '')}\n        help-text=${errorMessage || (view['ui:help'] as string) || ''}\n        ?invalid=${!!errorMessage}\n        @wa-input=${(e: Event) => onChange((e.target as WaRadioGroup).value)}\n      >\n        ${options.map(\n          (opt: unknown) => html`\n            <wa-radio value=${String(opt)}>${String(opt)}</wa-radio>\n          `,\n        )}\n      </wa-radio-group>\n    `;\n  }\n\n  return html`\n    <wa-select\n      label=${schema.title || key}\n      value=${String(value || '')}\n      help-text=${errorMessage || (view['ui:help'] as string) || ''}\n      ?invalid=${!!errorMessage}\n      @wa-input=${(e: Event) => onChange((e.target as WaSelect).value)}\n    >\n      <wa-option value=\"\">Select option...</wa-option>\n      ${options.map(\n        (opt: unknown) => html`\n        <wa-option value=${String(opt)}>${String(opt)}</wa-option>\n      `,\n      )}\n    </wa-select>\n  `;\n}\n"]}